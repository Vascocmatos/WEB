<!DOCTYPE html>
<html lang="pt-PT">
<head>
<script src="funcs.js" defer></script>
</head>
<body>
<form id="myForm">
Nome (max 10 caracteres): <input type="text" id="fname" size="20"><br>
Idade (1 a 100): <input type="text" id="age" size="20"><br>
E-mail: <input type="text" id="email" size="20"><br><br>
<input type="submit" value="Submit">
</form>
<script>
document.getElementById('myForm').addEventListener('submit', function (event) {
    event.preventDefault();
    if (!validate()) {
        return;
    }
    // Se a form for válida, podemos submeter manualmente:
    // this.submit()
});

function validate() {
    const email = document.getElementById("email").value;
    const age = document.getElementById("age").value;
    const fname = document.getElementById("fname").value;
    let submitOK = true;
    if (fname.length > 10) {
        alert("O nome deve ter menos de 10 caracteres");
        submitOK = false;
    }
    if (isNaN(age) || age < 1 || age > 100) {
        alert("A idade deve ser um número entre 1 e 100");
        submitOK = false;
    }
    if (!email.includes('@')) {
        alert("E-mail inválido!");
        submitOK = false;
    }
    return submitOK;
}
</script>
</body>
</html>
